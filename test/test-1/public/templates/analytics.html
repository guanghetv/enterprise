<div class="analytics">
	<!-- Nav tabs -->
	<ul class="nav nav-tabs"  >
	  <li ng-class="{ active: isActive('overview|undefined') }" ><a href="#/analytics/overview" role="tab" >Overview</a></li>
	  <li ng-class="{ active: isActive('student' ) }" ><a href="#/analytics/student"  role="tab" >Student</a></li>
	  <li class="weight" >
	  	<label>Chapter</label>
	  	<select class="select-block">
		    <option>三角形</option>
		  </select>
	  </li>
	  <li class="weight">
	  	<label>Class</label>
	  	<select class="select-block">
		    <option>初一1班</option>
		  </select>
	  </li>
	</ul>
	<!-- Tab panes -->
	<div class="tab-content">
	  <div class="tab-pane" ng-class="{ active: isActive('overview') }" >
	  	<div class="overview-1"></div>
	  	<div class="overview-2">
	  		<ul class="chapter-switcher">
	  			<li class="abtn fui-arrow-left"></li>
	  			<li>三角形的中线</li>
	  			<li class="abtn fui-arrow-right"></li>
	  		</ul>
	  		<div class="row">
				  <div id="pie-1" class="col-md-4 pie"></div>
				  <div id="pie-2" class="col-md-4 pie"></div>
				  <div id="pie-3" class="col-md-4 pie"></div>
				</div>
	  	</div>
	  	<div class="overview-3"></div>
	  </div>
	  <div class="tab-pane table-scroll table-condensed" ng-class="{ active: isActive('student') }" >
	  	<table class="table table-striped table-bordered">
		  	<thead>
		  		<tr>
		  			<th nowrap ng-repeat="col in columns" >{{ col }}</th>
		  		</tr>
		  	</thead>
		  	<tbody>
		  		<tr ng-repeat="row in data">
		  			<td  nowrap ng-repeat="col in columns" >{{ row[col] }}</td>
		  		</tr>
		  	</tbody>
	  	</table>
	  </div>
	</div>
</div>
<script type="text/javascript">
var func = function(id){

		var width = 250,
			height = 280,
			twoPi = 2 * Math.PI,
			progress = 0,
			formatPercent = d3.format(".0%");

		var arc = d3.svg.arc()
		    .startAngle(0)
		    .innerRadius(80)
		    .outerRadius(100);

		var svg = d3.select(id).append("svg")
		    .attr("width", width)
		    .attr("height", height);


		var warpper = svg.append("g")
		    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");


		var title = svg.append("g")
				.append("text")
				.attr("text-anchor", "middle")
				.attr('dx', "7em")
				.attr("dy", "15em")
				.attr('class', "word")
				.text('完成此课的人数');

		var meter = warpper.append("g")
		    .attr("class", "progress-meter");

		meter.append("path")
		    .attr("class", "background")
		    .attr("d", arc.endAngle(twoPi));

		var foreground = meter.append("path")
		    .attr("class", "foreground");

		var text = meter.append("text")
		    .attr("text-anchor", "middle")
		    .attr("dy", ".35em");

		var i = d3.interpolate(progress, .48);
		d3.transition().tween("progress", function() {
		  return function(t) {
		    progress = i(t);
		    foreground.attr("d", arc.endAngle(twoPi * progress));
		    text.text(formatPercent(progress));
		  };
		});
};

setTimeout(function(){
	func("#pie-1");
},1000);
setTimeout(function(){
	func("#pie-2");
},2000);
setTimeout(function(){
	func("#pie-3");
},3000);
</script>
